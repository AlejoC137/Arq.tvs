{"version":3,"file":"ProjectKanbanView-BqaY0s2m.js","sources":["../../src/components/ProjectKanbanView.jsx"],"sourcesContent":["import { useState, useEffect, useMemo } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { \r\n  Search, Download, Plus,\r\n  XCircle, Trash2\r\n} from 'lucide-react';\r\nimport * as XLSX from 'xlsx';\r\n\r\n// Assuming these components and actions exist in the specified paths\r\nimport FormTask from './FormTask'; \r\nimport { getAllFromTable, updateTask, addTask, deleteTask } from '../store/actions/actions'; \r\n\r\n// --- Constants and Helper Functions (Unchanged) ---\r\nconst ESTADOS = {\r\n  PENDIENTE: 'Pendiente', EN_PROCESO: 'En Progreso', COMPLETADO: 'Completado',\r\n  CANCELADO: 'Cancelado', EN_REVISION: 'En Revisión', BLOQUEADO: 'Bloqueado',\r\n  APROBACION_REQUERIDA: 'Aprobación Requerida', EN_DISENO: 'En Diseño', EN_DISCUSION: 'En Discusión'\r\n};\r\n\r\nconst getEstadoColor = (estado) => {\r\n  const colors = {\r\n    'Pendiente': 'bg-yellow-100 text-yellow-800', 'En Progreso': 'bg-blue-100 text-blue-800', \r\n    'Completado': 'bg-green-100 text-green-800', 'Cancelado': 'bg-red-100 text-red-800',\r\n    'En Revisión': 'bg-purple-100 text-purple-800', 'Bloqueado': 'bg-gray-400 text-white',\r\n    'Aprobación Requerida': 'bg-orange-100 text-orange-800', 'En Diseño': 'bg-pink-100 text-pink-800',\r\n    'En Discusión': 'bg-indigo-100 text-indigo-800'\r\n  };\r\n  return colors[estado] || 'bg-gray-100 text-gray-800';\r\n};\r\n\r\nconst getPriorityColor = (priority) => {\r\n    if (priority === \"Alta\") return \"border-l-4 border-red-500\";\r\n    if (priority === \"Media\") return \"border-l-4 border-orange-500\";\r\n    if (priority === \"Baja\") return \"border-l-4 border-yellow-500\";\r\n    return \"border-l-4 border-gray-300\";\r\n};\r\n\r\n\r\nconst ProjectKanbanView = () => {\r\n  const dispatch = useDispatch();\r\n  \r\n  // --- State Declarations (Mostly Unchanged) ---\r\n  const [data, setData] = useState([]);\r\n  const [proyectos, setProyectos] = useState([]);\r\n  const [staff, setStaff] = useState([]);\r\n  const [stages, setStages] = useState([]);\r\n  const [entregables, setEntregables] = useState([]);\r\n  \r\n  const [isFormOpen, setIsFormOpen] = useState(false);\r\n  const initialFiltersState = { project_id: '', stage_id: '', staff_id: '', status: '', search: '' };\r\n  const [filters, setFilters] = useState(initialFiltersState);\r\n\r\n  // --- Data Fetching Effect (Unchanged) ---\r\n  useEffect(() => {\r\n    const fetchAllData = async () => {\r\n      const [tareasAction, proyectosAction, staffAction, stagesAction, entregablesAction] = await Promise.all([\r\n        dispatch(getAllFromTable(\"Tareas\")), \r\n        dispatch(getAllFromTable(\"Proyectos\")),\r\n        dispatch(getAllFromTable(\"Staff\")), \r\n        dispatch(getAllFromTable(\"Stage\")),\r\n        dispatch(getAllFromTable(\"Entregables_template\"))\r\n      ]);\r\n      if (tareasAction?.payload) setData(tareasAction.payload);\r\n      if (proyectosAction?.payload) setProyectos(proyectosAction.payload);\r\n      if (staffAction?.payload) setStaff(staffAction.payload);\r\n      if (stagesAction?.payload) setStages(stagesAction.payload);\r\n      if (entregablesAction?.payload) setEntregables(entregablesAction.payload);\r\n    };\r\n    fetchAllData();\r\n  }, [dispatch]);\r\n  \r\n  // --- Data Filtering (Unchanged) ---\r\n  const filteredData = useMemo(() => {\r\n    let filtered = [...data];\r\n    if (filters.search) {\r\n      const searchLower = filters.search.toLowerCase();\r\n      filtered = filtered.filter(item => \r\n        Object.values(item).some(val => \r\n          String(val).toLowerCase().includes(searchLower)\r\n        )\r\n      );\r\n    }\r\n    if (filters.project_id) filtered = filtered.filter(item => item.project_id === filters.project_id);\r\n    if (filters.stage_id) filtered = filtered.filter(item => item.stage_id === filters.stage_id);\r\n    if (filters.staff_id) filtered = filtered.filter(item => item.staff_id === filters.staff_id);\r\n    if (filters.status) filtered = filtered.filter(item => item.status === filters.status);\r\n    return filtered;\r\n  }, [data, filters]);\r\n\r\n  // --- KEY CHANGE: Grouping data for Kanban View ---\r\n  const groupedByProject = useMemo(() => {\r\n    // We use reduce to transform the flat array into an object\r\n    // where keys are project IDs and values are arrays of tasks.\r\n    return filteredData.reduce((acc, task) => {\r\n      const projectId = task.project_id || 'unassigned';\r\n      if (!acc[projectId]) {\r\n        acc[projectId] = [];\r\n      }\r\n      acc[projectId].push(task);\r\n      return acc;\r\n    }, {});\r\n  }, [filteredData]);\r\n\r\n  // --- Action Handlers (Unchanged) ---\r\n  const handleAddTask = (taskData) => { dispatch(addTask(taskData)); };\r\n  \r\n  const handleDeleteTask = (taskId, taskDescription) => {\r\n    if (window.confirm(`¿Estás seguro de que deseas eliminar la tarea?\\n\\n\"${taskDescription}\"`)) {\r\n      dispatch(deleteTask(taskId));\r\n    }\r\n  };\r\n  \r\n  // Note: The `updateCell` function is kept for potential future use (e.g., in a modal),\r\n  // but the inline `EditableCell` component is removed in favor of a simpler card display.\r\n  const updateCell = (rowId, fieldsToUpdate) => {\r\n    setData(prevData => prevData.map(item => item.id === rowId ? { ...item, ...fieldsToUpdate } : item));\r\n    dispatch(updateTask(rowId, fieldsToUpdate));\r\n  };\r\n  \r\n  const exportToExcel = () => {\r\n    const dataToExport = filteredData.map(item => ({\r\n      'Proyecto': proyectos.find(p => p.id === item.project_id)?.name || 'Sin Asignar',\r\n      'Etapa': stages.find(s => s.id === item.stage_id)?.name || item.stage_id,\r\n      'Entregable': entregables.find(e => e.id === item.entregable_id)?.entregable_nombre || item.entregable_id,\r\n      'Tarea': item.task_description,\r\n      'Progreso': `${item.Progress || 0}%`,\r\n      'Estado': item.status,\r\n      'Responsable': staff.find(s => s.id === item.staff_id)?.name || item.staff_id,\r\n      'Prioridad': item.Priority,\r\n    }));\r\n    const worksheet = XLSX.utils.json_to_sheet(dataToExport);\r\n    const workbook = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Tareas\");\r\n    XLSX.writeFile(workbook, \"Gestion_Tareas_Kanban.xlsx\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FormTask isOpen={isFormOpen} onClose={() => setIsFormOpen(false)} onSubmit={handleAddTask} proyectos={proyectos} staff={staff} stages={stages} entregables={entregables} estados={ESTADOS}/>\r\n      \r\n      <div className=\"flex flex-col h-screen bg-gray-100 font-sans\">\r\n        {/* --- Header and Filters (Similar to original) --- */}\r\n        <header className=\"bg-white shadow-sm border-b p-4 flex-shrink-0\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-gray-900\">Gestión de Tareas (Kanban)</h1>\r\n              <p className=\"text-sm text-gray-600\">Vista de tarjetas por proyecto</p>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <button onClick={exportToExcel} className=\"flex items-center gap-2 px-4 py-2 bg-green-600   rounded-lg hover:bg-green-700 text-sm\"><Download size={16} /> Exportar Vista</button>\r\n              <button onClick={() => setIsFormOpen(true)} className=\"flex items-center gap-2 px-4 py-2 bg-blue-600   rounded-lg hover:bg-blue-700 text-sm\"><Plus size={16} /> Nueva Tarea</button>\r\n            </div>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-6 gap-4 p-4 bg-gray-50 rounded-lg border\">\r\n             <div className=\"col-span-2\"><label className=\"block text-sm font-medium text-gray-700 mb-1\">Búsqueda General</label><div className=\"relative\"><Search size={16} className=\"absolute left-3 top-3 text-gray-400\" /><input type=\"text\" placeholder=\"Buscar en tareas, notas...\" value={filters.search} onChange={(e) => setFilters(prev => ({ ...prev, search: e.target.value }))} className=\"pl-10 w-full p-2 border border-gray-300 rounded-lg text-sm\"/></div></div>\r\n             <div><label className=\"block text-sm font-medium text-gray-700 mb-1\">Etapa</label><select value={filters.stage_id} onChange={(e) => setFilters(prev => ({ ...prev, stage_id: e.target.value }))} className=\"w-full p-2 border border-gray-300 rounded-lg text-sm\"><option value=\"\">Todas</option>{stages.map(s => (<option key={s.id} value={s.id}>{s.name}</option>))}</select></div>\r\n             <div><label className=\"block text-sm font-medium text-gray-700 mb-1\">Responsable</label><select value={filters.staff_id} onChange={(e) => setFilters(prev => ({ ...prev, staff_id: e.target.value }))} className=\"w-full p-2 border border-gray-300 rounded-lg text-sm\"><option value=\"\">Todos</option>{staff.map(s => (<option key={s.id} value={s.id}>{s.name}</option>))}</select></div>\r\n             <div><label className=\"block text-sm font-medium text-gray-700 mb-1\">Estado</label><select value={filters.status} onChange={(e) => setFilters(prev => ({ ...prev, status: e.target.value }))} className=\"w-full p-2 border border-gray-300 rounded-lg text-sm\"><option value=\"\">Todos</option>{Object.values(ESTADOS).map(estado => (<option key={estado} value={estado}>{estado}</option>))}</select></div>\r\n             <div className=\"flex items-end\"><button onClick={() => setFilters(initialFiltersState)} className=\"flex items-center justify-center gap-2 px-4 py-2 bg-gray-600   rounded-lg hover:bg-gray-700 w-full text-sm\"><XCircle size={16} /> Limpiar</button></div>\r\n          </div>\r\n        </header>\r\n\r\n        {/* --- KANBAN BOARD --- */}\r\n        <main className=\"flex-1 overflow-x-auto p-4\">\r\n          <div className=\"flex gap-4 h-full\">\r\n            {Object.entries(groupedByProject).map(([projectId, tasks]) => {\r\n              const project = proyectos.find(p => p.id === projectId);\r\n              return (\r\n                <div key={projectId} className=\"flex-shrink-0 w-80 bg-gray-200 rounded-lg shadow-md\">\r\n                  {/* Column Header */}\r\n                  <div className=\"p-3 bg-white border-b rounded-t-lg sticky top-0\">\r\n                    <h2 className=\"font-bold text-gray-800\">{project?.name || \"Tareas sin Proyecto\"}</h2>\r\n                    <p className=\"text-xs text-gray-500\">{tasks.length} {tasks.length === 1 ? 'tarea' : 'tareas'}</p>\r\n                  </div>\r\n                  \r\n                  {/* Cards Container */}\r\n                  <div className=\"p-2 overflow-y-auto h-[calc(100%-60px)]\">\r\n                    {tasks.map(task => (\r\n                      <div key={task.id} className={`bg-white rounded-lg shadow-sm p-3 mb-3 hover:shadow-lg transition-shadow ${getPriorityColor(task.Priority)}`}>\r\n                        {/* Card Content */}\r\n                        <div className=\"flex justify-between items-start\">\r\n                           <p className=\"font-semibold text-sm text-gray-800 break-words mb-2\">{task.task_description}</p>\r\n                           <button onClick={() => handleDeleteTask(task.id, task.task_description)} className=\"text-gray-400 hover:text-red-500 p-1 rounded-full flex-shrink-0\"><Trash2 size={14} /></button>\r\n                        </div>\r\n                       \r\n                        <div className=\"text-xs text-gray-600 space-y-2 mb-3\">\r\n                            <p><strong>Entregable:</strong> {entregables.find(e => e.id === task.entregable_id)?.entregable_nombre || '-'}</p>\r\n                            <p><strong>Responsable:</strong> {staff.find(s => s.id === task.staff_id)?.name || '-'}</p>\r\n                        </div>\r\n                        \r\n                        {/* Progress Bar */}\r\n                        <div className=\"flex items-center gap-2 mb-3\">\r\n                            <span className=\"text-xs font-semibold text-gray-700 w-9\">{task.Progress || 0}%</span>\r\n                            <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                <div className=\"bg-blue-600 h-2 rounded-full\" style={{ width: `${task.Progress || 0}%` }}></div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Status Badge */}\r\n                        <div className=\"flex justify-start\">\r\n                           <span className={`px-2 py-1 rounded-full text-xs font-medium ${getEstadoColor(task.status)}`}>{task.status}</span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProjectKanbanView;"],"names":["ESTADOS","getEstadoColor","estado","getPriorityColor","priority","ProjectKanbanView","dispatch","useDispatch","data","setData","useState","proyectos","setProyectos","staff","setStaff","stages","setStages","entregables","setEntregables","isFormOpen","setIsFormOpen","initialFiltersState","filters","setFilters","useEffect","tareasAction","proyectosAction","staffAction","stagesAction","entregablesAction","getAllFromTable","filteredData","useMemo","filtered","searchLower","item","val","groupedByProject","acc","task","projectId","handleAddTask","taskData","addTask","handleDeleteTask","taskId","taskDescription","deleteTask","exportToExcel","dataToExport","_a","p","_b","s","_c","e","_d","worksheet","XLSX.utils","workbook","XLSX.writeFile","jsxs","Fragment","jsx","FormTask","Download","Plus","Search","prev","XCircle","tasks","project","Trash2"],"mappings":"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"}